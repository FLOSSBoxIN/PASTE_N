!function(){var e=Element.prototype;e.matches||(e.matches=e.msMatchesSelector||e.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1}),e.closest||(e.closest=function(e){for(var t=this;t;){if(t.matches&&t.matches(e))return t;t=t.parentElement||t.parentNode}return null})}(),function(){"use strict";function e(e,t){for(;t>0&&10!==e.charCodeAt(t-1);)t--;return t}function t(e,t){for(;t<e.length&&10!==e.charCodeAt(t);)t++;return t}function n(e){try{e.dispatchEvent(new Event("input",{bubbles:!0}))}catch(e){}}function o(e){let t=1;for(let n=0;n<e.length;n++)10===e.charCodeAt(n)&&t++;return t}function a(e){return Math.max(1,(0|e).toString().length)}function i(e){var t;((t=document.getElementById("file-announce"))||((t=document.createElement("div")).id="file-announce",t.className="visually-hidden",t.setAttribute("aria-live","polite"),document.body.appendChild(t),t)).textContent=String(e||"")}function l(n,i){if(!n||"1"===n.dataset.liteInit)return;const l=!(!i||!i.readOnly),s=document.createElement("div");s.className="editor-wrap";const c=document.createElement("div");c.className="editor-gutter",c.setAttribute("aria-hidden","true");const r=document.createElement("div");r.className="editor-gutter-inner",c.appendChild(r),n.parentNode.insertBefore(s,n),s.appendChild(c),s.appendChild(n),n.classList.add("editor-ta","form-control"),n.setAttribute("wrap","off"),n.style.overflowX="auto",n.style.overflowY="auto",n.dataset.liteInit="1";const d=getComputedStyle(n),u=parseFloat(d.fontSize)||14,m=d.lineHeight&&"normal"!==d.lineHeight?parseFloat(d.lineHeight):Math.round(1.5*u);n.style.lineHeight=m+"px",c.style.fontFamily=d.fontFamily,c.style.fontSize=d.fontSize,c.style.lineHeight=m+"px",c.style.paddingTop=d.paddingTop,c.style.paddingBottom=d.paddingBottom;const f=getComputedStyle(c),p=getComputedStyle(r),h=parseFloat(d.paddingTop)||0,g=parseFloat(d.borderTopWidth)||0,v=parseFloat(f.paddingTop)||0,y=parseFloat(f.borderTopWidth)||0,b=parseFloat(p.paddingTop)||0,E=h+g-(v+y+b);let w=0;const x=Math.max(1,window.devicePixelRatio||1),L=e=>Math.round(e*x)/x;!function(){const e=parseInt(n.getAttribute("rows")||"0",10),t=parseFloat(d.paddingTop)||0,o=parseFloat(d.paddingBottom)||0,a=parseFloat(d.borderTopWidth)||0,i=parseFloat(d.borderBottomWidth)||0,l=e>0?Math.round(e*m+t+o+a+i):n.offsetHeight;l>0&&(n.style.height=l+"px",n.style.minHeight=l+"px")}(),n.style.boxShadow="none",n.style.outline="0",n.addEventListener("focus",(function(){n.style.boxShadow="none",n.style.outline="0"}));let C=o(n.value),S=1,B=0,I=0;function A(){return Math.max(1,Math.ceil(n.clientHeight/m)+1)}let T=a(C);function M(){const e=a(C);e!==T&&(c.style.minWidth=e+2+"ch",T=e)}function j(){const e=(S-1)*m-n.scrollTop+E+w;r.style.transform="translate3d(0,"+L(e)+"px,0)"}function F(){const e=n.getBoundingClientRect(),t=r.getBoundingClientRect(),o=e.top+h+g+(S-1)*m-n.scrollTop-t.top;if(isFinite(o)){const e=Math.max(-3,Math.min(3,o));w+=e,j()}}function _(){I=0;const e=Math.max(1,Math.floor(n.scrollTop/m)+1),t=function(){const e=A();return Math.min(200,Math.max(20,e))}(),o=A(),a=Math.max(1,e-t),i=Math.min(C,e+o+t);a===S&&i===B||(r.textContent=function(e,t){const n=t-e+1,o=new Array(n);for(let t=0;t<n;t++)o[t]=e+t+"";return o.join("\n")+"\n"}(a,i),S=a,B=i,M()),j();const l=n.offsetHeight;c._h!==l&&(c.style.height=l+"px",c._h=l),n._didCal||(n._didCal=!0,requestAnimationFrame((()=>requestAnimationFrame(F))),document.fonts&&document.fonts.ready&&document.fonts.ready.then((()=>{requestAnimationFrame(F)})))}function q(){I||(I=requestAnimationFrame(_))}M(),n.addEventListener("scroll",q,{passive:!0});const k=function(){const e=o(n.value);e!==C&&(C=e),q()};n.addEventListener("input",k),n.addEventListener("change",k),n.addEventListener("cut",k),n.addEventListener("paste",k),l?n.setAttribute("readonly","readonly"):n.addEventListener("keydown",(function(a){if("Tab"!==a.key)return;a.preventDefault();const i=n.selectionStart,l=n.selectionEnd,s=n.value;if(i===l)return n.value=s.slice(0,i)+"    "+s.slice(i),n.setSelectionRange(i+4,i+4),C=o(n.value),q();const c=e(s,i),r=t(s,l),d=s.slice(0,c),u=s.slice(c,r),m=s.slice(r);let f=[];if(a.shiftKey){let e=0,t=0,o=0,a=!0,l=0;for(;e<u.length;){if(a){let n=0;if(9===u.charCodeAt(e))e+=1,n=1;else{let t=e,o=0;for(;t<u.length&&o<4&&32===u.charCodeAt(t);)t++,o++;e=t,n=o}0===l&&(o=n),t+=n,a=!1}const n=u.indexOf("\n",e);if(-1===n){f.push(u.slice(e));break}f.push(u.slice(e,n+1)),e=n+1,a=!0,l++}const s=f.join("");n.value=d+s+m;const p=Math.max(c,i-o),h=r-t;n.setSelectionRange(p,h)}else{let e=0,t=0,o=!0,a=4,s=0;for(;e<u.length;){o&&(f.push("    "),t+=4,0===s&&(a=4),o=!1);const n=u.indexOf("\n",e);if(-1===n){f.push(u.slice(e));break}f.push(u.slice(e,n+1)),e=n+1,o=!0,s++}const c=f.join("");n.value=d+c+m,n.setSelectionRange(i+a,l+t)}C=o(n.value),q()}));let N=null;"ResizeObserver"in window?(N=new ResizeObserver((()=>{q(),requestAnimationFrame(F)})),N.observe(n)):window.addEventListener("resize",(()=>{q(),requestAnimationFrame(F)})),document.addEventListener("visibilitychange",(function(){"visible"===document.visibilityState&&(q(),requestAnimationFrame(F))}));let H=!1;const D=()=>{if(!H&&(H=!0,N))try{N.disconnect()}catch(e){}};window.addEventListener("pagehide",D,{once:!0}),document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&D()}),{once:!0}),q()}function s(e,t=!1,n=!0){const o=document.getElementById("notification");if(o)if(o.textContent=e,o.className="notification"+(t?" error":""),o.style.display="block",n){const e=()=>{o.classList.add("fade-out"),setTimeout((()=>{o.style.display="none",o.classList.remove("fade-out"),o.textContent=""}),500)};setTimeout(e,3e3)}else if(!o.querySelector(".close-btn")){const e=document.createElement("button");e.textContent="Ã—",e.className="close-btn",e.addEventListener("click",(()=>{o.style.display="none",o.textContent=""}),{once:!0}),o.appendChild(e)}}function c(e,t){var o=document.getElementById("edit-code");if(e&&o){var a=o.closest(".editor-wrap")||o.parentNode||o,l=a.querySelector(".drop-overlay");l||((l=document.createElement("div")).className="drop-overlay",l.textContent="Drop file to load",a.appendChild(l));var c=t&&+t.maxBytes||+o.dataset.maxBytes||10485760,r=t&&t.extMap||{php:"php",js:"javascript",ts:"typescript",jsx:"javascript",tsx:"typescript",py:"python",rb:"ruby",java:"java",c:"c",h:"c",cpp:"cpp",cc:"cpp",cs:"csharp",go:"go",rs:"rust",kt:"kotlin",swift:"swift",sh:"bash",ps1:"powershell",sql:"sql",html:"html",htm:"html",css:"css",scss:"scss",json:"json",xml:"xml",yml:"yaml",yaml:"yaml",ini:"ini",conf:"ini",md:"markdown"},d=0;a.addEventListener("dragover",(function(e){e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="copy")})),a.addEventListener("dragenter",(function(e){e.preventDefault(),0==d++&&a.classList.add("dragging","drag-hover")})),a.addEventListener("dragleave",(function(){--d<=0&&(d=0,a.classList.remove("dragging","drag-hover"))})),a.addEventListener("drop",(function(e){e.preventDefault(),d=0,a.classList.remove("dragging","drag-hover");var l=e.dataTransfer&&e.dataTransfer.files;if(l&&l.length){var s=l[0];if(s.size>c)u("File is larger than the site limit.",!0);else{var m=new FileReader;m.onload=function(){var e=String(m.result||"");if(/\x00/.test(e))u("This file looks binary.",!0);else if(e=function(e){return 65279===e.charCodeAt(0)?e.slice(1):e}(e).replace(/\r\n?/g,"\n"),function(e){try{return(new TextEncoder).encode(e).length}catch(t){return unescape(encodeURIComponent(e)).length}}(e)>c)u("Loaded text exceeds the site limit.",!0);else{o.value=e;try{n(o)}catch(e){}!function(e){var t=/\.([^.]+)$/.exec(e||"");if(t){var n=r[(t[1]||"").toLowerCase()];if(n){var o=document.getElementById("format");o&&o.querySelector('option[value="'+n+'"]')&&(o.value=n)}}}(s.name);var a=document.querySelector('input[name="title"]');a&&!a.value&&(a.value=s.name),i("Loaded "+s.name),t&&"function"==typeof t.onLoaded&&t.onLoaded(s)}},m.readAsText(s)}}}))}function u(e,t){s(e,!!t)}}function r(){if(document.getElementById("load_file_btn")&&document.getElementById("code_file")&&document.getElementById("clear_file_btn"));else{var e=document.querySelector(".highlight-line");if(e){if(!document.getElementById("load_file_btn")){var t=document.createElement("button");t.type="button",t.id="load_file_btn",t.className="btn btn-outline-secondary ms-2",t.title="Load file into editor (no upload)",t.innerHTML='<i class="bi bi-upload"></i> Load file',e.insertAdjacentElement("afterend",t)}if(!document.getElementById("code_file")){var o=document.createElement("input");o.type="file",o.id="code_file",o.className="visually-hidden",o.setAttribute("accept",".txt,.md,.php,.js,.ts,.jsx,.tsx,.py,.rb,.java,.c,.cpp,.h,.cs,.go,.rs,.kt,.swift,.sh,.ps1,.sql,.html,.htm,.css,.scss,.json,.xml,.yml,.yaml,.ini,.conf,text/*"),e.nextElementSibling?e.nextElementSibling.insertAdjacentElement("afterend",o):e.insertAdjacentElement("afterend",o)}if(!document.getElementById("clear_file_btn")){var a=document.createElement("button");a.type="button",a.id="clear_file_btn",a.className="btn btn-outline-secondary",a.title="Clear editor",a.innerHTML='<i class="bi bi-x-circle"></i> Clear',document.getElementById("load_file_btn").insertAdjacentElement("afterend",a)}}}var l=document.getElementById("edit-code"),r=document.getElementById("load_file_btn"),d=document.getElementById("code_file"),u=document.getElementById("clear_file_btn");if(l&&r&&d){var m=+l.dataset.maxBytes||10485760,f={php:"php",js:"javascript",ts:"typescript",jsx:"javascript",tsx:"typescript",py:"python",rb:"ruby",java:"java",c:"c",h:"c",cpp:"cpp",cc:"cpp",cs:"csharp",go:"go",rs:"rust",kt:"kotlin",swift:"swift",sh:"bash",ps1:"powershell",sql:"sql",html:"html",htm:"html",css:"css",scss:"scss",json:"json",xml:"xml",yml:"yaml",yaml:"yaml",ini:"ini",conf:"ini",md:"markdown"};r.onclick=function(){d.click()},d.onchange=function(){var e=d.files&&d.files[0];if(e){if(e.size>m)return p("File is larger than the site limit.",!0),void(d.value="");var t=new FileReader;t.onload=function(){var o=String(t.result||"");if(/\x00/.test(o))return p("This file looks binary. Please choose a text file.",!0),void(d.value="");if(o=function(e){return 65279===e.charCodeAt(0)?e.slice(1):e}(o).replace(/\r\n?/g,"\n"),function(e){try{return(new TextEncoder).encode(e).length}catch(t){return unescape(encodeURIComponent(e)).length}}(o)>m)p("Loaded text exceeds the site limit.",!0);else{l.value=o;try{n(l)}catch(e){}!function(e){var t=/\.([^.]+)$/.exec(e||"");if(t){var n=f[(t[1]||"").toLowerCase()];if(n){var o=document.getElementById("format");o&&o.querySelector('option[value="'+n+'"]')&&(o.value=n)}}}(e.name);var a=document.querySelector('input[name="title"]');a&&!a.value&&(a.value=e.name),i("Loaded "+e.name)}},t.readAsText(e)}},u&&(u.onclick=function(){l.value="";try{n(l)}catch(e){}d&&(d.value=""),i("Cleared editor"),s("Editor cleared")}),c(l,{maxBytes:m})}function p(e,t){s(e,!!t)}}window.togglev=function(){const e=document.querySelector(".code-content");if(e){e.classList.toggle("no-line-numbers");try{localStorage.setItem("paste_ln_hidden",e.classList.contains("no-line-numbers")?"1":"0")}catch(e){}return}const t=document.querySelector("pre ol, .geshi ol, ol");if(!t)return void s("Code list element not found.",!0);const n=t.style.listStyle||getComputedStyle(t).listStyle;t.style.listStyle=n.startsWith("none")?"decimal":"none"},window.toggleFullScreen=function(){const e=document.getElementById("fullscreenModal");e?window.bootstrap&&bootstrap.Modal?bootstrap.Modal.getOrCreateInstance(e).show():s("Bootstrap modal is unavailable.",!0):s("Fullscreen modal not available.",!0)},window.copyToClipboard=function(){const e=document.getElementById("code"),t=e?e.value:"";t?navigator.clipboard.writeText(t).then((()=>s("Copied to clipboard!")),(()=>s("Failed to copy.",!0))):s("No code to copy.",!0)},window.showEmbedCode=function(e){e?s("Embed code: "+e,!1,!1):s("Could not generate embed code.",!0)},window.highlightLine=function(o){o&&o.preventDefault&&o.preventDefault();const a=document.getElementById("edit-code");if(!a)return;const i="!highlight!",l=a.value,s=a.selectionStart||0,c=a.selectionEnd||s,r=a.scrollTop,d=e(l,s),u=t(l,c),m=l.slice(0,d),f=l.slice(d,u),p=l.slice(u);let h=[],g=0,v=0,y=0,b=!0,E=0;for(;g<f.length;){b&&(f.substr(g,11)!==i&&(h.push(i),v+=11,0===E&&(y=11)),b=!1);const e=f.indexOf("\n",g);if(-1===e){h.push(f.slice(g));break}h.push(f.slice(g,e+1)),g=e+1,b=!0,E++}const w=h.join("");if(a.value=m+w+p,s===c){const e=s+y;a.setSelectionRange(e,e)}else a.setSelectionRange(d,u+v);a.scrollTop=r,n(a),a.focus()},document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("edit-code");e&&l(e,{readOnly:!1}),document.addEventListener("click",(function(e){const t=e.target;t.closest&&t.closest(".highlight-line")&&(e.preventDefault(),window.highlightLine(e)),t.closest&&t.closest(".toggle-fullscreen")&&(e.preventDefault(),window.toggleFullScreen()),t.closest&&t.closest(".copy-clipboard")&&(e.preventDefault(),window.copyToClipboard())}),{capture:!0}),r();const t=document.getElementById("fullscreenModal"),o=document.getElementById("fullscreen-host"),a=document.getElementById("code-content-home"),i=document.getElementById("code-content");t&&o&&a&&i&&window.bootstrap&&bootstrap.Modal&&(bootstrap.Modal.getOrCreateInstance(t),t.addEventListener("show.bs.modal",(()=>{i.parentNode!==o&&o.appendChild(i)})),t.addEventListener("hidden.bs.modal",(()=>{i.parentNode!==a.parentNode&&a.insertAdjacentElement("beforebegin",i)})));const c=document.getElementById("raw-block");if(c){const e=document.getElementById("load-raw"),t=document.getElementById("code"),o=c.getAttribute("data-raw-url");if(e&&t&&o){const a=async()=>{e.disabled=!0;try{const a=await fetch(o,{credentials:"same-origin"}),i=await a.text();t.value=i,t.classList.remove("d-none"),l(t,{readOnly:!0}),n(t),e.remove()}catch(t){console.error("Raw fetch failed:",t),e.disabled=!1,s("Failed to load raw paste.",!0)}};e.addEventListener("click",a,{once:!0})}}}))}(),document.addEventListener("DOMContentLoaded",(function(){function e(e){if(e){var t=e.getAttribute("maxlength"),n=parseInt(t||"4000",10);(!isFinite(n)||n<=0)&&(n=4e3);var o,a=Math.max(0,n-(e.value||"").length);if("comment-body-main"===e.id)o=document.getElementById("c-remaining");else{var i=e.closest("form");o=i?i.querySelector(".c-remaining"):null}o&&(o.textContent=a)}}function t(t){var n=t.target;n&&"TEXTAREA"===n.tagName&&"comment_body"===n.name&&e(n)}var n,o;document.addEventListener("click",(function(t){var n=t.target.closest?t.target.closest(".comment-reply"):null;if(n){t.preventDefault();var o=n.getAttribute("data-target"),a=o?document.querySelector(o):null;if(a){var i=a.classList.contains("d-none");if(i?a.classList.remove("d-none"):a.classList.add("d-none"),!i){var l=a.querySelector('textarea[name="comment_body"]');if(l){e(l);try{l.focus()}catch(e){}}}}}}),!0),document.addEventListener("click",(function(e){var t=e.target.closest?e.target.closest(".reply-cancel"):null;if(t){e.preventDefault();var n=t.getAttribute("data-target"),o=n?document.querySelector(n):t.closest?t.closest(".mt-2"):null;o&&!o.classList.contains("d-none")&&o.classList.add("d-none")}}),!0),document.addEventListener("click",(function(e){var t=e.target.closest?e.target.closest(".comment-expand"):null;if(t){e.preventDefault();var n=t.getAttribute("data-target"),o=n?document.querySelector(n):null;if(o){t.dataset.showHtml||(t.dataset.showHtml=t.innerHTML),t.dataset.hideHtml||(t.dataset.hideHtml='<i class="bi bi-chevron-up"></i> Hide replies');var a=o.classList.toggle("d-none");t.innerHTML=a?t.dataset.showHtml:t.dataset.hideHtml}}}),!0),document.addEventListener("input",t,!0),document.addEventListener("keyup",t,!0),(n='#comment-body-main, form textarea[name="comment_body"]',Array.prototype.slice.call((o||document).querySelectorAll(n))).forEach(e),document.addEventListener("submit",(function(e){var t=e.target;if(t&&t.matches&&t.matches("form")&&(t.querySelector('input[name="action"][value="delete_comment"]')&&window.fetch)){e.preventDefault();var n=t.closest?t.closest(".comment-item"):null,o=new FormData(t);o.set("ajax","1"),fetch(t.action,{method:"POST",headers:{"X-Requested-With":"XMLHttpRequest"},body:o,credentials:"same-origin"}).then((function(e){return e.ok?e.json():Promise.reject()})).then((function(e){if(e&&e.success){n&&n.parentNode&&n.parentNode.removeChild(n);var t=document.getElementById("comments-count");if(t){var o=parseInt(t.textContent||"0",10)||0;t.textContent=Math.max(0,o-1)}}else showNotification(e&&e.message?e.message:"Delete failed.",!0)})).catch((function(){showNotification("Delete failed.",!0)}))}}),!0)}));